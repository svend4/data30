# Руководство по использованию макросов

## Назначение

Макросы описывают повторяемые сценарии в стандартизированном формате, чтобы их можно было быстро внедрять, проверять и поддерживать.

## Быстрый старт

1. Выберите шаблон из `templates/macros.yaml`.
2. Скопируйте нужный макрос и заполните параметры.
3. Проверьте соответствие `schemas/macro.schema.json`.
4. Проведите тестовый запуск и обновите блок `reliability`.

## Хранение

- Рекомендуемый формат — **YAML** для удобства чтения и редактирования.
- Валидация выполняется JSON Schema (подходит и для YAML).

## Параметры

Параметры описывают, что можно менять без кода:

- адресатов уведомлений
- пороги (минимальная сумма, критичность)
- шаблоны сообщений
- внешние endpoints

Подставляйте параметры в шагах и условиях как `{{parameter_name}}`.

## Надёжность

Блок `reliability` отражает доверие к макросу.

Рекомендации:

- обновляйте `score` после тестов или инцидентов;
- фиксируйте причины в `basis`;
- отмечайте `failure_rate` и уровень автоматизации.

## Проверка качества

Перед вводом в эксплуатацию убедитесь:

- Заполнены все обязательные поля.
- `steps` имеют логичную последовательность.
- Все параметры описаны и используются.
- Есть обработка ожидаемых ошибок.

## Частые сценарии

Список готовых шаблонов включает:

- триаж тикетов
- напоминания об оплате
- онбординг сотрудника
- отчеты по метрикам
- публикация контента

Полный список — в `templates/macros.yaml`.
